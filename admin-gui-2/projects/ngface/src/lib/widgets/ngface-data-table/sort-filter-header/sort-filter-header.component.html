<!--
  ~ Copyright 2020-2025 the original author or authors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      https://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="ngface-sort-filter-header">
  @if (sortable) {
    <div class="ngface-sort-header" mat-sort-header>{{ text }}</div>
  } @else {
    <div class="ngface-nosort-header">{{ text }}</div>
  }
  @if (filterable) {
    <button class="ngface-filter-header" [ngClass]="getClass()"
            (click)="onFilterIconClick($event)">
      @if (!isActive()) {
        <mat-icon class="material-icons-outlined ngface-table-header-icon">filter_list</mat-icon>
      } @else {
        <mat-icon class="material-icons-filled ngface-table-header-icon">filter_alt</mat-icon>
      }
    </button>
  }
</div>

<!-- Will be shown as an overlay -->
<ng-template #excel_filter>
  <ngface-excel-filter
    [filterer]="filterer"
    (valueSetSearchEvent)="onValueSetSearch($event)"
    (filtererChangeEvent)="onFiltererChange($event)"
    (onCloseEvent)="onExcelFilterClosed($event)"
  ></ngface-excel-filter>
</ng-template>

